description: ResourceSliceSpec contains the information published by the driver in one ResourceSlice.
x-kab-description-zh: ResourceSliceSpec 包含驱动在某个 ResourceSlice 中发布的信息。
properties:
  allNodes:
    description: |-
      `allNodes` indicates that all nodes have access to the resources in the pool.

      Exactly one of `nodeName`, `nodeSelector`, `allNodes` and `perDeviceNodeSelection` must be set.

      This field is immutable.
    x-kab-description-zh: |-
      `allNodes` 表明所有节点都能访问资源池中的资源。

      `nodeName`、`nodeSelector`、`allNodes` 和 `perDeviceNodeSelection` 能且只能指定其一。

      此字段不可变更。
    type: boolean
  devices:
    description: |-
      `devices` lists some or all of the devices in this pool.
    x-kab-description-zh: |-
      `devices` 列举资源池中的部分或全部设备。
    items:
      $ref: '#/definitions/io.k8s.api.resource.v1.Device'
      maxItems: 128
    type: array
    x-kubernetes-list-type: atomic
  driver:
    description: |-
      `driver` identifies the DRA driver providing the capacity information.
      A field selector can be used to list only ResourceSlice objects with a certain driver name.

      Must be a DNS subdomain and should end with a DNS domain owned by the vendor of the driver. This field is immutable.
    x-kab-description-zh: |-
      `driver` 用来标识提供容量信息的 DRA 驱动。
      可以使用字段选择算符来限制列举给定驱动名称的 ResourceSlice。

      字段值必须是一个合法的 DNS 子域名，并且以驱动厂商所拥有的 DNS 域名结尾。
      此字段不可变更。
    minLength: 1
    type: string
  nodeName:
    description: |-
      `nodeName` identifies the node which provides the resources in this pool.
      A field selector can be used to list only ResourceSlice objects belonging to a certain node.

      This field can be used to limit access from nodes to ResourceSlices with the same node name.
      It also indicates to autoscalers that adding new nodes of the same type as some old node might also make new resources available.

      Exactly one of `nodeName`, `nodeSelector`, `allNodes` and `perDeviceNodeSelection` must be set.

      This field is immutable.
    x-kab-description-zh: |-
      `nodeName` 标识能够提供池中资源的节点。
      可以使用字段选择算符来限制列举给定节点相关的 ResourceSlice。

      此字段可以用来限制节点访问具有相同节点名的 ResourceSlice。
      这也意味着，对于能够自动添加与某些旧节点类型相同的新节点的集群规模扩缩服务，是可以将新资源提供给用户访问的。

      `nodeName`、`nodeSelector`、`allNodes` 和 `perDeviceNodeSelection` 能且只能指定其一。

      此字段不可变更。
    type: string
  nodeSelector:
    $ref: '#/definitions/io.k8s.api.core.v1.NodeSelector'
    description: |-
      `nodeSelector` defines which nodes have access to the resources in the pool, when that pool is not limited to a single node.

      Must use exactly one term.

      Exactly one of `nodeName`, `nodeSelector`, `allNodes` and `perDeviceNodeSelection` must be set.
    x-kab-description-zh: |-
      `nodeSelector` 用在资源池跨越多个节点时，定义哪些节点能够访问池中的资源。

      此选择算符只能包含一个条件子句。

      `nodeName`、`nodeSelector`、`allNodes` 和 `perDeviceNodeSelection` 能且只能指定其一。
  perDeviceNodeSelection:
    description: |-
      `perDeviceNodeSelection` defines whether the access from nodes to resources in the pool
      is set on the ResourceSlice level or on each device.
      If it is set to `true`, every device defined the ResourceSlice must specify this individually.

      Exactly one of `nodeName`, `nodeSelector`, `allNodes` and `perDeviceNodeSelection` must be set.
    x-kab-descriptionz-: |-
      `perDeviceNodeSelection` 定义从节点访问池中资源时，是按 ResourceSlice 层面还是逐个设备层面来管理。
      当此字段为 `true` 时，ResourceSlice 中的每个设备都要分别定义此属性。

      `nodeName`、`nodeSelector`、`allNodes` 和 `perDeviceNodeSelection` 能且只能指定其一。
    type: boolean
  pool:
    $ref: '#/definitions/io.k8s.api.resource.v1.ResourcePool'
    description: |-
      `pool` describes the pool that this ResourceSlice belongs to.
    x-kab-description-zh: |-
      `pool' 描述此 ResourceSlice 所属的资源池。
  sharedCounters:
    description: |-
      `sharedCounters` defines a list of counter sets, each of which has a name and a list of counters available.

      The names of the `sharedCounters` must be unique in the ResourceSlice.
    x-kab-description-zh: |-
      `sharedCounters` 定义一个计数器集合的列表，其中每个元素都有一个名字并包含一组计数器。

      在 ResourceSlice 中，每个 `sharedCounters` 的名字必须保证唯一。
    items:
      $ref: '#/definitions/io.k8s.api.resource.v1.CounterSet'
    maxItems: 32
    type: array
    x-kubernetes-list-type: atomic
required:
  - driver
  - pool
type: object

